!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="/dist/",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}for(var r=i(6),o=n(r),s=i(9),a=(n(s),i(7)),c=null,h=document.getElementById("canvas"),u=h.getContext("2d"),p=u.canvas,l=p.height,f=p.width,d=[],v=[],g=function(){return{x:Math.random()*f,y:Math.random()*l}},y=0;100>y;y+=2)d.push(new o["default"](Math.random()*f,Math.random()*l)),v.push(g());var m=function(){v.push(g()),v.push(g()),v.push(g()),v.push(g()),v.push(g()),(0,a.render)(u,d,v),d.forEach(function(t){v=t.eat(v),t.tick({w:f,h:l})})},w=function b(t){c||(c=t);m(),window.requestAnimationFrame(b)};window.requestAnimationFrame(w)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,i){(function(t){function e(t,e){for(this.size=0|t,this.list=[],this.label=e||null,this.connectedTo=[];t--;){var i=new n;this.list.push(i)}}t&&(t.exports=e);var n=i(4),r=i(3);e.prototype={activate:function(t){var e=[];if("undefined"!=typeof t){if(t.length!=this.size)throw new Error("INPUT size and LAYER size must be the same to activate!");for(var i in this.list){var n=this.list[i],r=n.activate(t[i]);e.push(r)}}else for(var i in this.list){var n=this.list[i],r=n.activate();e.push(r)}return e},propagate:function(t,e){if("undefined"!=typeof e){if(e.length!=this.size)throw new Error("TARGET size and LAYER size must be the same to propagate!");for(var i=this.list.length-1;i>=0;i--){var n=this.list[i];n.propagate(t,e[i])}}else for(var i=this.list.length-1;i>=0;i--){var n=this.list[i];n.propagate(t)}},project:function(t,i,n){if(t instanceof r&&(t=t.layers.input),!(t instanceof e))throw new Error("Invalid argument, you can only project connections to LAYERS and NETWORKS!");return this.connected(t)?void 0:new e.connection(this,t,i,n)},gate:function(t,i){if(i==e.gateType.INPUT){if(t.to.size!=this.size)throw new Error("GATER layer and CONNECTION.TO layer must be the same size in order to gate!");for(var n in t.to.list){var r=t.to.list[n],o=this.list[n];for(var s in r.connections.inputs){var a=r.connections.inputs[s];a.ID in t.connections&&o.gate(a)}}}else if(i==e.gateType.OUTPUT){if(t.from.size!=this.size)throw new Error("GATER layer and CONNECTION.FROM layer must be the same size in order to gate!");for(var n in t.from.list){var r=t.from.list[n],o=this.list[n];for(var c in r.connections.projected){var a=r.connections.projected[c];a.ID in t.connections&&o.gate(a)}}}else if(i==e.gateType.ONE_TO_ONE){if(t.size!=this.size)throw new Error("The number of GATER UNITS must be the same as the number of CONNECTIONS to gate!");for(var n in t.list){var o=this.list[n],a=t.list[n];o.gate(a)}}t.gatedfrom.push({layer:this,type:i})},selfconnected:function(){for(var t in this.list){var e=this.list[t];if(!e.selfconnected())return!1}return!0},connected:function(t){var i=0;for(var n in this.list)for(var r in t.list){var o=this.list[n],s=t.list[r],a=o.connected(s);"projected"==a.type&&i++}if(i==this.size*t.size)return e.connectionType.ALL_TO_ALL;i=0;for(var c in this.list){var o=this.list[c],s=t.list[c],a=o.connected(s);"projected"==a.type&&i++}return i==this.size?e.connectionType.ONE_TO_ONE:void 0},clear:function(){for(var t in this.list){var e=this.list[t];e.clear()}},reset:function(){for(var t in this.list){var e=this.list[t];e.reset()}},neurons:function(){return this.list},add:function(t){this.neurons[t.ID]=t||new n,this.list.push(t),this.size++},set:function(t){t=t||{};for(var e in this.list){var i=this.list[e];t.label&&(i.label=t.label+"_"+i.ID),t.squash&&(i.squash=t.squash),t.bias&&(i.bias=t.bias)}return this}},e.connection=function(t,i,n,r){if(this.ID=e.connection.uid(),this.from=t,this.to=i,this.selfconnection=i==t,this.type=n,this.connections={},this.list=[],this.size=0,this.gatedfrom=[],"undefined"==typeof this.type&&(t==i?this.type=e.connectionType.ONE_TO_ONE:this.type=e.connectionType.ALL_TO_ALL),this.type==e.connectionType.ALL_TO_ALL||this.type==e.connectionType.ALL_TO_ELSE)for(var o in this.from.list)for(var s in this.to.list){var a=this.from.list[o],c=this.to.list[s];if(this.type!=e.connectionType.ALL_TO_ELSE||a!=c){var h=a.project(c,r);this.connections[h.ID]=h,this.size=this.list.push(h)}}else if(this.type==e.connectionType.ONE_TO_ONE)for(var u in this.from.list){var a=this.from.list[u],c=this.to.list[u],h=a.project(c,r);this.connections[h.ID]=h,this.size=this.list.push(h)}t.connectedTo.push(this)},e.connectionType={},e.connectionType.ALL_TO_ALL="ALL TO ALL",e.connectionType.ONE_TO_ONE="ONE TO ONE",e.connectionType.ALL_TO_ELSE="ALL TO ELSE",e.gateType={},e.gateType.INPUT="INPUT",e.gateType.OUTPUT="OUTPUT",e.gateType.ONE_TO_ONE="ONE TO ONE",function(){var t=0;e.connection.uid=function(){return t++}}()}).call(e,i(1)(t))},function(t,e,i){(function(t){function e(t){"undefined"!=typeof t&&(this.layers=t||{input:null,hidden:{},output:null},this.optimized=null)}t&&(t.exports=e);var n=i(4),r=i(2);e.prototype={activate:function(t){if(this.optimized===!1){this.layers.input.activate(t);for(var e in this.layers.hidden)this.layers.hidden[e].activate();return this.layers.output.activate()}return null==this.optimized&&this.optimize(),this.optimized.activate(t)},propagate:function(t,e){if(this.optimized===!1){this.layers.output.propagate(t,e);var i=[];for(var n in this.layers.hidden)i.push(this.layers.hidden[n]);i.reverse();for(var n in i)i[n].propagate(t)}else null==this.optimized&&this.optimize(),this.optimized.propagate(t,e)},project:function(t,i,n){if(this.optimized&&this.optimized.reset(),t instanceof e)return this.layers.output.project(t.layers.input,i,n);if(t instanceof r)return this.layers.output.project(t,i,n);throw new Error("Invalid argument, you can only project connections to LAYERS and NETWORKS!")},gate:function(t,e){this.optimized&&this.optimized.reset(),this.layers.output.gate(t,e)},clear:function(){this.restore();var t=this.layers.input,e=this.layers.output;t.clear();for(var i in this.layers.hidden){var n=this.layers.hidden[i];n.clear()}e.clear(),this.optimized&&this.optimized.reset()},reset:function(){this.restore();var t=this.layers.input,e=this.layers.output;t.reset();for(var i in this.layers.hidden){var n=this.layers.hidden[i];n.reset()}e.reset(),this.optimized&&this.optimized.reset()},optimize:function(){var t=this,e={},i=this.neurons();for(var n in i){for(var r=i[n].neuron,o=i[n].layer;r.neuron;)r=r.neuron;e=r.optimize(e,o)}for(var n in e.propagation_sentences)e.propagation_sentences[n].reverse();e.propagation_sentences.reverse();var s="";s+="var F = Float64Array ? new Float64Array("+e.memory+") : []; ";for(var n in e.variables)s+="F["+e.variables[n].id+"] = "+(e.variables[n].value||0)+"; ";s+="var activate = function(input){\n";for(var n in e.inputs)s+="F["+e.inputs[n]+"] = input["+n+"]; ";for(var a in e.activation_sentences)if(e.activation_sentences[a].length>0)for(var c in e.activation_sentences[a])s+=e.activation_sentences[a][c].join(" "),s+=e.trace_sentences[a][c].join(" ");s+=" var output = []; ";for(var n in e.outputs)s+="output["+n+"] = F["+e.outputs[n]+"]; ";s+="return output; }; ",s+="var propagate = function(rate, target){\n",s+="F["+e.variables.rate.id+"] = rate; ";for(var n in e.targets)s+="F["+e.targets[n]+"] = target["+n+"]; ";for(var a in e.propagation_sentences)for(var c in e.propagation_sentences[a])s+=e.propagation_sentences[a][c].join(" ")+" ";s+=" };\n",s+="var ownership = function(memoryBuffer){\nF = memoryBuffer;\nthis.memory = F;\n};\n",s+="return {\nmemory: F,\nactivate: activate,\npropagate: propagate,\nownership: ownership\n};",s=s.split(";").join(";\n");var h=new Function(s),u=h();u.data={variables:e.variables,activate:e.activation_sentences,propagate:e.propagation_sentences,trace:e.trace_sentences,inputs:e.inputs,outputs:e.outputs,check_activation:this.activate,check_propagation:this.propagate},u.reset=function(){t.optimized&&(t.optimized=null,t.activate=u.data.check_activation,t.propagate=u.data.check_propagation)},this.optimized=u,this.activate=u.activate,this.propagate=u.propagate},restore:function(){if(this.optimized){var t=this.optimized,e=function(){var e=Array.prototype.slice.call(arguments),i=e.shift(),n=e.pop(),r=n+"_";for(var o in e)r+=e[o]+"_";r+=i.ID;var s=t.memory,a=t.data.variables;return r in a?s[a[r].id]:0},i=this.neurons();for(var n in i){for(var r=i[n].neuron;r.neuron;)r=r.neuron;r.state=e(r,"state"),r.old=e(r,"old"),r.activation=e(r,"activation"),r.bias=e(r,"bias");for(var o in r.trace.elegibility)r.trace.elegibility[o]=e(r,"trace","elegibility",o);for(var s in r.trace.extended)for(var o in r.trace.extended[s])r.trace.extended[s][o]=e(r,"trace","extended",s,o)}for(var n in i){for(var r=i[n].neuron;r.neuron;)r=r.neuron;for(var a in r.connections.projected){var c=r.connections.projected[a];c.weight=e(c,"weight"),c.gain=e(c,"gain")}}}},neurons:function(){var t=[],e=this.layers.input.neurons(),i=this.layers.output.neurons();for(var n in e)t.push({neuron:e[n],layer:"input"});for(var r in this.layers.hidden){var o=this.layers.hidden[r].neurons();for(var n in o)t.push({neuron:o[n],layer:r})}for(var n in i)t.push({neuron:i[n],layer:"output"});return t},inputs:function(){return this.layers.input.size},outputs:function(){return this.layers.output.size},set:function(t){this.layers=t,this.optimized&&this.optimized.reset()},setOptimize:function(t){this.restore(),this.optimized&&this.optimized.reset(),this.optimized=t?null:!1},toJSON:function(t){this.restore();var e=this.neurons(),i=[],r=[],o={};for(var s in e){for(var a=e[s].neuron;a.neuron;)a=a.neuron;o[a.ID]=s;var c={trace:{elegibility:{},extended:{}},state:a.state,old:a.old,activation:a.activation,bias:a.bias,layer:e[s].layer};c.squash=a.squash==n.squash.LOGISTIC?"LOGISTIC":a.squash==n.squash.TANH?"TANH":a.squash==n.squash.IDENTITY?"IDENTITY":a.squash==n.squash.HLIM?"HLIM":null,i.push(c)}for(var s in e){for(var a=e[s].neuron;a.neuron;)a=a.neuron;for(var h in a.connections.projected){var u=a.connections.projected[h];r.push({from:o[u.from.ID],to:o[u.to.ID],weight:u.weight,gater:u.gater?o[u.gater.ID]:null})}a.selfconnected()&&r.push({from:o[a.ID],to:o[a.ID],weight:a.selfconnection.weight,gater:a.selfconnection.gater?o[a.selfconnection.gater.ID]:null})}return{neurons:i,connections:r}},toDot:function(t){var e="digraph nn {\n    rankdir = BT\n",i=[this.layers.input].concat(this.layers.hidden,this.layers.output);for(var n in i)for(var r in i[n].connectedTo){var o=i[n].connectedTo[r],s=o.to,a=o.size,c=i.indexOf(i[n]),h=i.indexOf(s);if(t){if(o.gatedfrom.length){var u="fake"+c+"_"+h;e+="    "+u+' [label = "", shape = point, width = 0.01, height = 0.01]\n',e+="    "+c+" -> "+u+" [label = "+a+", arrowhead = none]\n",e+="    "+u+" -> "+h+"\n"}else e+="    "+c+" -> "+h+" [label = "+a+"]\n";for(var p in o.gatedfrom){var l=o.gatedfrom[p].layer,f=(o.gatedfrom[p].type,i.indexOf(l));e+="    "+f+" -> "+u+" [color = blue]\n"}}else{e+="    "+c+" -> "+h+" [label = "+a+"]\n";for(var p in o.gatedfrom){var l=o.gatedfrom[p].layer,f=(o.gatedfrom[p].type,i.indexOf(l));e+="    "+f+" -> "+h+" [color = blue]\n"}}}return e+="}\n",{code:e,link:"https://chart.googleapis.com/chart?chl="+escape(e.replace("/ /g","+"))+"&cht=gv"}},standalone:function(){this.optimized||this.optimize();var t=this.optimized.data,e="function (input) {\n";for(var i in t.inputs)e+="F["+t.inputs[i]+"] = input["+i+"];\n";for(var n in t.activate)for(var r in t.activate[n])e+=t.activate[n][r].join("")+"\n";e+="var output = [];\n";for(var i in t.outputs)e+="output["+i+"] = F["+t.outputs[i]+"];\n";e+="return output;\n}";var o=e.match(/F\[(\d+)\]/g),s=0,a={};for(var c in o){var h=o[c].match(/\d+/)[0];h in a||(a[h]=s++)}var u="F = {\n";for(var i in a)u+=a[i]+": "+this.optimized.memory[i]+",\n";return u=u.substring(0,u.length-2)+"\n};\n",u="var run = "+e.replace(/F\[(\d+)]/g,function(t){return"F["+a[t.match(/\d+/)[0]]+"]"}).replace("{\n","{\n"+u)+";\n",u+="return run",new Function(u)()},worker:function(){this.optimized||this.optimize();var t="var inputs = "+this.optimized.data.inputs.length+";\n";t+="var outputs = "+this.optimized.data.outputs.length+";\n",t+="var F = null;\n",t+="var activate = "+this.optimized.activate.toString()+";\n",t+="var propagate = "+this.optimized.propagate.toString()+";\n",t+="onmessage = function(e){\n",t+="F = e.data.memoryBuffer;\n",t+="if (e.data.action == 'activate'){\n",t+="if (e.data.input.length == inputs){\n",t+="postMessage( { action: 'activate', output: activate(e.data.input), memoryBuffer: F }, [F.buffer]);\n",t+="}\n}\nelse if (e.data.action == 'propagate'){\n",t+="propagate(e.data.rate, e.data.target);\n",t+="postMessage({ action: 'propagate', memoryBuffer: F }, [F.buffer]);\n",t+="}\n}\n";var e=new Blob([t]),i=window.URL.createObjectURL(e);return new Worker(i)},clone:function(){return e.fromJSON(this.toJSON())}},e.fromJSON=function(t){var i=[],o={input:new r,hidden:[],output:new r};for(var s in t.neurons){var a=t.neurons[s],c=new n;c.trace.elegibility={},c.trace.extended={},c.state=a.state,c.old=a.old,c.activation=a.activation,c.bias=a.bias,c.squash=a.squash in n.squash?n.squash[a.squash]:n.squash.LOGISTIC,i.push(c),"input"==a.layer?o.input.add(c):"output"==a.layer?o.output.add(c):("undefined"==typeof o.hidden[a.layer]&&(o.hidden[a.layer]=new r),o.hidden[a.layer].add(c))}for(var s in t.connections){var a=t.connections[s],h=i[a.from],u=i[a.to],p=a.weight,l=i[a.gater],f=h.project(u,p);l&&l.gate(f)}return new e(o)}}).call(e,i(1)(t))},function(t,e,i){(function(t){function e(){this.ID=e.uid(),this.label=null,this.connections={inputs:{},projected:{},gated:{}},this.error={responsibility:0,projected:0,gated:0},this.trace={elegibility:{},extended:{},influences:{}},this.state=0,this.old=0,this.activation=0,this.selfconnection=new e.connection(this,this,0),this.squash=e.squash.LOGISTIC,this.neighboors={},this.bias=.2*Math.random()-.1}t&&(t.exports=e),e.prototype={activate:function(t){if("undefined"!=typeof t)return this.activation=t,this.derivative=0,this.bias=0,this.activation;this.old=this.state,this.state=this.selfconnection.gain*this.selfconnection.weight*this.state+this.bias;for(var e in this.connections.inputs){var t=this.connections.inputs[e];this.state+=t.from.activation*t.weight*t.gain}this.activation=this.squash(this.state),this.derivative=this.squash(this.state,!0);var i=[];for(var n in this.trace.extended){var r=this.trace.extended[n],o=this.neighboors[n],s=o.selfconnection.gater==this?o.old:0;for(var a in this.trace.influences[o.ID])s+=this.trace.influences[o.ID][a].weight*this.trace.influences[o.ID][a].from.activation;i[o.ID]=s}for(var e in this.connections.inputs){var t=this.connections.inputs[e];this.trace.elegibility[t.ID]=this.selfconnection.gain*this.selfconnection.weight*this.trace.elegibility[t.ID]+t.gain*t.from.activation;for(var n in this.trace.extended){var r=this.trace.extended[n],o=this.neighboors[n],s=i[o.ID];r[t.ID]=o.selfconnection.gain*o.selfconnection.weight*r[t.ID]+this.derivative*this.trace.elegibility[t.ID]*s}}for(var c in this.connections.gated)this.connections.gated[c].gain=this.activation;return this.activation},propagate:function(t,e){var i=0,n="undefined"!=typeof e;if(n)this.error.responsibility=this.error.projected=e-this.activation;else{for(var r in this.connections.projected){var o=this.connections.projected[r],s=o.to;i+=s.error.responsibility*o.gain*o.weight}this.error.projected=this.derivative*i,i=0;for(var r in this.trace.extended){var s=this.neighboors[r],a=s.selfconnection.gater==this?s.old:0;for(var c in this.trace.influences[r])a+=this.trace.influences[r][c].weight*this.trace.influences[s.ID][c].from.activation;i+=s.error.responsibility*a}this.error.gated=this.derivative*i,this.error.responsibility=this.error.projected+this.error.gated}t=t||.1;for(var r in this.connections.inputs){var c=this.connections.inputs[r],h=this.error.projected*this.trace.elegibility[c.ID];for(var r in this.trace.extended){var s=this.neighboors[r];h+=s.error.responsibility*this.trace.extended[s.ID][c.ID]}c.weight+=t*h}this.bias+=t*this.error.responsibility},project:function(t,i){if(t==this)return this.selfconnection.weight=1,this.selfconnection;var n=this.connected(t);if(n&&"projected"==n.type)return"undefined"!=typeof i&&(n.connection.weight=i),n.connection;var r=new e.connection(this,t,i);this.connections.projected[r.ID]=r,this.neighboors[t.ID]=t,t.connections.inputs[r.ID]=r,t.trace.elegibility[r.ID]=0;for(var o in t.trace.extended){var s=t.trace.extended[o];s[r.ID]=0}return r},gate:function(t){this.connections.gated[t.ID]=t;var e=t.to;if(!(e.ID in this.trace.extended)){this.neighboors[e.ID]=e;var i=this.trace.extended[e.ID]={};for(var n in this.connections.inputs){var r=this.connections.inputs[n];i[r.ID]=0}}e.ID in this.trace.influences?this.trace.influences[e.ID].push(t):this.trace.influences[e.ID]=[t],t.gater=this},selfconnected:function(){return 0!==this.selfconnection.weight},connected:function(t){var e={type:null,connection:!1};if(this==t)return this.selfconnected()?(e.type="selfconnection",e.connection=this.selfconnection,e):!1;for(var i in this.connections)for(var n in this.connections[i]){var n=this.connections[i][n];if(n.to==t)return e.type=i,e.connection=n,e;if(n.from==t)return e.type=i,e.connection=n,e}return!1},clear:function(){for(var t in this.trace.elegibility)this.trace.elegibility[t]=0;for(var t in this.trace.extended)for(var e in this.trace.extended[t])this.trace.extended[t][e]=0;this.error.responsibility=this.error.projected=this.error.gated=0},reset:function(){this.clear();for(var t in this.connections)for(var e in this.connections[t])this.connections[t][e].weight=.2*Math.random()-.1;this.bias=.2*Math.random()-.1,this.old=this.state=this.activation=0},optimize:function(t,i){t=t||{};var n=[],r=[],o=[],s=t.memory||0,a=t.neurons||1,c=t.inputs||[],h=t.targets||[],u=t.outputs||[],p=t.variables||{},l=t.activation_sentences||[],f=t.trace_sentences||[],d=t.propagation_sentences||[],v=t.layers||{__count:0,__neuron:0},g=function(t){var e=i in v&&t[v.__count];e||(v.__count=t.push([])-1,v[i]=v.__count)};g(l),g(f),g(d);var y=v.__count,m=function(){var t=Array.prototype.slice.call(arguments);if(1==t.length){if("target"==t[0]){var e="target_"+h.length;h.push(s)}else var e=t[0];return e in p?p[e]:p[e]={value:0,id:s++}}var i=t.length>2;if(i)var n=t.pop();var r=t.shift(),o=t.pop();if(!i)var n=r[o];var e=o+"_";for(var a in t)e+=t[a]+"_";return e+=r.ID,e in p?p[e]:p[e]={value:n,id:s++}},w=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),i="";for(var n in t)i+="string"==typeof t[n]?t[n]:"F["+t[n].id+"]";e.push(i+";")},b=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},T=b(this.connections.projected),I=b(this.connections.gated),D="input"==i?!0:b(this.connections.inputs),_="output"==i?!0:T&&I,O=m("rate"),x=m(this,"activation");if(D)c.push(x.id);else{l[y].push(n),f[y].push(r),d[y].push(o);var z=m(this,"old"),j=m(this,"state"),E=m(this,"bias");if(this.selfconnection.gater)var M=m(this.selfconnection,"gain");if(this.selfconnected())var L=m(this.selfconnection,"weight");w(z," = ",j,n),this.selfconnected()?this.selfconnection.gater?w(j," = ",M," * ",L," * ",j," + ",E,n):w(j," = ",L," * ",j," + ",E,n):w(j," = ",E,n);for(var S in this.connections.inputs){var k=this.connections.inputs[S],A=m(k.from,"activation"),N=m(k,"weight");if(k.gater)var q=m(k,"gain");this.connections.inputs[S].gater?w(j," += ",A," * ",N," * ",q,n):w(j," += ",A," * ",N,n)}var P=m(this,"derivative");switch(this.squash){case e.squash.LOGISTIC:w(x," = (1 / (1 + Math.exp(-",j,")))",n),w(P," = ",x," * (1 - ",x,")",n);break;case e.squash.TANH:var F=m("aux"),C=m("aux_2");w(F," = Math.exp(",j,")",n),w(C," = 1 / ",F,n),w(x," = (",F," - ",C,") / (",F," + ",C,")",n),w(P," = 1 - (",x," * ",x,")",n);break;case e.squash.IDENTITY:w(x," = ",j,n),w(P," = 1",n);break;case e.squash.HLIM:w(x," = +(",j," > 0)",n),w(P," = 1",n);case e.squash.RELU:w(x," = ",j," > 0 ? ",j," : 0",n),w(P," = ",j," > 0 ? 1 : 0",n)}for(var R in this.trace.extended){var H=this.trace.extended[R],U=this.neighboors[R],G=m("influences["+U.ID+"]"),B=m(U,"old"),V=!1;U.selfconnection.gater==this&&(w(G," = ",B,r),V=!0);for(var Y in this.trace.influences[U.ID]){var J=m(this.trace.influences[U.ID][Y],"weight"),X=m(this.trace.influences[U.ID][Y].from,"activation");V?w(G," += ",J," * ",X,r):(w(G," = ",J," * ",X,r),V=!0)}}for(var S in this.connections.inputs){var k=this.connections.inputs[S];if(k.gater)var q=m(k,"gain");var A=m(k.from,"activation"),W=m(this,"trace","elegibility",k.ID,this.trace.elegibility[k.ID]);this.selfconnected()?this.selfconnection.gater?k.gater?w(W," = ",M," * ",L," * ",W," + ",q," * ",A,r):w(W," = ",M," * ",L," * ",W," + ",A,r):k.gater?w(W," = ",L," * ",W," + ",q," * ",A,r):w(W," = ",L," * ",W," + ",A,r):k.gater?w(W," = ",q," * ",A,r):w(W," = ",A,r);for(var R in this.trace.extended){var H=this.trace.extended[R],U=this.neighboors[R],G=m("influences["+U.ID+"]"),B=m(U,"old"),W=m(this,"trace","elegibility",k.ID,this.trace.elegibility[k.ID]),H=m(this,"trace","extended",U.ID,k.ID,this.trace.extended[U.ID][k.ID]);if(U.selfconnected())var K=m(U.selfconnection,"weight");if(U.selfconnection.gater)var Q=m(U.selfconnection,"gain");U.selfconnected()?U.selfconnection.gater?w(H," = ",Q," * ",K," * ",H," + ",P," * ",W," * ",G,r):w(H," = ",K," * ",H," + ",P," * ",W," * ",G,r):w(H," = ",P," * ",W," * ",G,r)}}for(var Z in this.connections.gated){var $=m(this.connections.gated[Z],"gain");w($," = ",x,n)}}if(!D){var tt=m(this,"error","responsibility",this.error.responsibility);if(_){var et=m("target");w(tt," = ",et," - ",x,o);for(var R in this.connections.inputs){var k=this.connections.inputs[R],W=m(this,"trace","elegibility",k.ID,this.trace.elegibility[k.ID]),N=m(k,"weight");w(N," += ",O," * (",tt," * ",W,")",o)}u.push(x.id)}else if(T||I){if(I){w(tt," = 0",o);for(var R in this.connections.projected){var Z=this.connections.projected[R],U=Z.to,it=m(Z,"weight"),nt=m(U,"error","responsibility",U.error.responsibility);if(Z.gater){var rt=m(Z,"gain");w(tt," += ",nt," * ",rt," * ",it,o)}else w(tt," += ",nt," * ",it,o)}w(tt," *= ",P,o);for(var R in this.connections.inputs){var k=this.connections.inputs[R],W=m(this,"trace","elegibility",k.ID,this.trace.elegibility[k.ID]),N=m(k,"weight");w(N," += ",O," * (",tt," * ",W,")",o)}}else if(T){w(tt," = 0",o);for(var R in this.trace.extended){var U=this.neighboors[R],G=m("aux"),B=m(U,"old");U.selfconnection.gater==this?w(G," = ",B,o):w(G," = 0",o);for(var k in this.trace.influences[U.ID]){var Z=this.trace.influences[U.ID][k],it=m(Z,"weight"),ot=m(Z.from,"activation");w(G," += ",it," * ",ot,o)}var nt=m(U,"error","responsibility",U.error.responsibility);w(tt," += ",nt," * ",G,o)}w(tt," *= ",P,o);for(var R in this.connections.inputs){var k=this.connections.inputs[R],st=m("aux");w(st," = 0",o);for(var R in this.trace.extended){var U=this.neighboors[R],nt=m(U,"error","responsibility",U.error.responsibility),H=m(this,"trace","extended",U.ID,k.ID,this.trace.extended[U.ID][k.ID]);w(st," += ",nt," * ",H,o)}var N=m(k,"weight");w(N," += ",O," * ",st,o)}}}else{var at=m("aux");for(var R in this.connections.projected){var Z=this.connections.projected[R],U=Z.to,it=m(Z,"weight"),nt=m(U,"error","responsibility",U.error.responsibility);if(Z.gater){var rt=m(Z,"gain");w(at," += ",nt," * ",rt," * ",it,o)}else w(at," += ",nt," * ",it,o)}var ct=m(this,"error","projected",this.error.projected);w(ct," = ",P," * ",at,o),w(at," = 0",o);for(var R in this.trace.extended){var U=this.neighboors[R],G=m("aux_2"),B=m(U,"old");U.selfconnection.gater==this?w(G," = ",B,o):w(G," = 0",o);for(var k in this.trace.influences[U.ID]){var Z=this.trace.influences[U.ID][k],it=m(Z,"weight"),ot=m(Z.from,"activation");w(G," += ",it," * ",ot,o)}var nt=m(U,"error","responsibility",U.error.responsibility);w(at," += ",nt," * ",G,o)}var ht=m(this,"error","gated",this.error.gated);w(ht," = ",P," * ",at,o),w(tt," = ",ct," + ",ht,o);for(var R in this.connections.inputs){var k=this.connections.inputs[R],st=m("aux"),W=m(this,"trace","elegibility",k.ID,this.trace.elegibility[k.ID]);w(st," = ",ct," * ",W,o);for(var R in this.trace.extended){var U=this.neighboors[R],nt=m(U,"error","responsibility",U.error.responsibility),H=m(this,"trace","extended",U.ID,k.ID,this.trace.extended[U.ID][k.ID]);w(st," += ",nt," * ",H,o)}var N=m(k,"weight");w(N," += ",O," * ",st,o)}}w(E," += ",O," * ",tt,o)}return{memory:s,neurons:a+1,inputs:c,outputs:u,targets:h,variables:p,activation_sentences:l,trace_sentences:f,propagation_sentences:d,layers:v}}},e.connection=function(t,i,n){if(!t||!i)throw new Error("Connection Error: Invalid neurons");this.ID=e.connection.uid(),this.from=t,this.to=i,this.weight="undefined"==typeof n?.2*Math.random()-.1:n,this.gain=1,this.gater=null},e.squash={},e.squash.LOGISTIC=function(t,i){if(!i)return 1/(1+Math.exp(-t));var n=e.squash.LOGISTIC(t);return n*(1-n)},e.squash.TANH=function(t,i){if(i)return 1-Math.pow(e.squash.TANH(t),2);var n=Math.exp(t),r=1/n;return(n-r)/(n+r)},e.squash.IDENTITY=function(t,e){return e?1:t},e.squash.HLIM=function(t,e){return e?1:t>0?1:0},e.squash.RELU=function(t,e){return e?t>0?1:0:t>0?t:0},function(){var t=0,i=0;e.uid=function(){return t++},e.connection.uid=function(){return i++},e.quantity=function(){return{neurons:t,connections:i}}}()}).call(e,i(1)(t))},function(t,e,n){(function(t){function e(t,e){e=e||{},this.network=t,this.rate=e.rate||.2,this.iterations=e.iterations||1e5,this.error=e.error||.005,this.cost=e.cost||null,this.crossValidate=e.crossValidate||null}t&&(t.exports=e),e.prototype={train:function(t,i){function n(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}var r,o,s,a=1,c=bucketSize=0,h=!1,u=i&&i.cost||this.cost||e.cost.MSE,p=!1,l=Date.now();if(i&&(i.shuffle,i.iterations&&(this.iterations=i.iterations),i.error&&(this.error=i.error),i.rate&&(this.rate=i.rate),i.cost&&(this.cost=i.cost),i.schedule&&(this.schedule=i.schedule),i.customLog&&(console.log("Deprecated: use schedule instead of customLog"),this.schedule=i.customLog),this.crossValidate&&(p=!0,i.crossValidate.testSize&&(this.crossValidate.testSize=i.crossValidate.testSize),i.crossValidate.testError&&(this.crossValidate.testError=i.crossValidate.testError))),r=this.rate,Array.isArray(this.rate)&&(bucketSize=Math.floor(this.iterations/this.rate.length)),p){var f=Math.ceil((1-this.crossValidate.testSize)*t.length);s=t.slice(0,f),o=t.slice(f)}for(;!h&&c<this.iterations&&a>this.error&&!(p&&a<=this.crossValidate.testError);){var d=t.length;if(a=0,bucketSize>0){var v=Math.floor(c/bucketSize);r=this.rate[v]||r}p?(this._trainSet(s,r,u),a+=this.test(o).error,d=1):(a+=this._trainSet(t,r,u),d=t.length),c++,a/=d,i&&(this.schedule&&this.schedule.every&&c%this.schedule.every==0?h=this.schedule["do"]({error:a,iterations:c,rate:r}):i.log&&c%i.log==0&&console.log("iterations",c,"error",a,"rate",r),i.shuffle&&n(t))}var g={error:a,iterations:c,time:Date.now()-l};return g},_trainSet:function(t,e,i){var n=0;for(var r in t)input=t[r].input,target=t[r].output,output=this.network.activate(input),this.network.propagate(e,target),n+=i(target,output);return n},test:function(t,i){var n,r,o,s=0,a=i&&i.cost||this.cost||e.cost.MSE,c=Date.now();for(var h in t)n=t[h].input,o=t[h].output,r=this.network.activate(n),s+=a(o,r);s/=t.length;var u={error:s,time:Date.now()-c};return u},workerTrain:function(t,i,n){function r(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}function o(t){v.postMessage({action:"activate",input:t,memoryBuffer:c.network.optimized.memory},[c.network.optimized.memory.buffer])}function s(t){if(bucketSize>0){var e=Math.floor(u/bucketSize);a=c.rate[e]||a}v.postMessage({action:"propagate",target:t,rate:a,memoryBuffer:c.network.optimized.memory},[c.network.optimized.memory.buffer])}var a,c=this,h=1,u=bucketSize=0,p=t.length,l=!1,f=n&&n.cost||c.cost||e.cost.MSE,d=Date.now();n&&(n.shuffle,n.iterations&&(c.iterations=n.iterations),n.error&&(c.error=n.error),n.rate&&(c.rate=n.rate),n.cost&&(c.cost=n.cost),n.schedule&&(c.schedule=n.schedule),n.customLog&&(console.log("Deprecated: use schedule instead of customLog"),c.schedule=n.customLog)),a=c.rate,Array.isArray(c.rate)&&(bucketSize=Math.floor(c.iterations/c.rate.length));var v=c.network.worker();v.onmessage=function(e){c.network.optimized.ownership(e.data.memoryBuffer),"propagate"==e.data.action&&(g>=p?(g=0,u++,h/=t.length,n&&(c.schedule&&c.schedule.every&&u%c.schedule.every==0?l=c.schedule["do"]({error:h,iterations:u,rate:a}):n.log&&u%n.log==0&&console.log("iterations",u,"error",h),n.shuffle&&r(t)),!l&&u<c.iterations&&h>c.error?o(t[g].input):i({error:h,iterations:u,time:Date.now()-d}),h=0):o(t[g].input)),"activate"==e.data.action&&(h+=f(t[g].output,e.data.output),s(t[g].output),g++)};var g=0,u=0;o(t[g].input)},XOR:function(t){if(2!=this.network.inputs()||1!=this.network.outputs())throw new Error("Incompatible network (2 inputs, 1 output)");var i={iterations:1e5,log:!1,shuffle:!0,cost:e.cost.MSE};if(t)for(var n in t)i[n]=t[n];return this.train([{input:[0,0],output:[0]},{input:[1,0],output:[1]},{input:[0,1],output:[1]},{input:[1,1],output:[0]}],i)},DSR:function(t){t=t||{};for(var n=t.targets||[2,4,7,8],r=t.distractors||[3,5,6,9],o=t.prompts||[0,1],s=t.length||24,a=t.success||.95,c=t.iterations||1e5,h=t.rate||.1,u=t.log||0,p=t.schedule||{},l=t.cost||this.cost||e.cost.CROSS_ENTROPY,f=correct=i=j=success=0,d=1,v=n.length+r.length+o.length,g=function(t,e){var i=Math.random()*t|0,n=!1;for(var r in e)i==e[r]&&(n=!0);return n?g(t,e):i},y=function(t,e){for(var i in t)if(Math.round(t[i])!=e[i])return!1;return!0},m=Date.now();c>f&&(success<a||f%1e3!=0);){var w=[],b=s-o.length;for(i=0;i<b;i++){var T=Math.random()*r.length|0;w.push(r[T])}var I=[],D=[];for(i=0;i<o.length;i++)I.push(Math.random()*n.length|0),D.push(g(b,D));for(D=D.sort(),i=0;i<o.length;i++)w[D[i]]=n[I[i]],w.push(o[i]);var _=distractorsCorrect=0;for(d=0,i=0;i<s;i++){var O=[];for(j=0;j<v;j++)O[j]=0;O[w[i]]=1;var x=[];for(j=0;j<n.length;j++)x[j]=0;if(i>=b){var z=i-b;x[I[z]]=1}var E=this.network.activate(O);y(E,x)?i<b?distractorsCorrect++:_++:this.network.propagate(h,x),d+=l(x,E),distractorsCorrect+_==s&&correct++}f%1e3==0&&(correct=0),f++;var M=f%1e3;M=0==M?1e3:M,success=correct/M,d/=s,u&&f%u==0&&console.log("iterations:",f," success:",success," correct:",correct," time:",Date.now()-m," error:",d),p["do"]&&p.every&&f%p.every==0&&p["do"]({iterations:f,success:success,error:d,time:Date.now()-m,correct:correct})}return{iterations:f,success:success,error:d,time:Date.now()-m}},ERG:function(t){t=t||{};var i=t.iterations||15e4,n=t.error||.05,r=t.rate||.1,o=t.log||500,s=t.cost||this.cost||e.cost.CROSS_ENTROPY,a=function(){this.paths=[]};a.prototype={connect:function(t,e){return this.paths.push({node:t,value:e}),this},any:function(){if(0==this.paths.length)return!1;var t=Math.random()*this.paths.length|0;return this.paths[t]},test:function(t){for(var e in this.paths)if(this.paths[e].value==t)return this.paths[e];return!1}};for(var c=function(){var t=new a,e=(new a).connect(t,"E"),i=(new a).connect(e,"S"),n=(new a).connect(e,"V").connect(i,"P"),r=(new a).connect(i,"X");r.connect(r,"S");var o=(new a).connect(n,"V");o.connect(o,"T"),i.connect(o,"X");var s=(new a).connect(r,"T").connect(o,"P"),c=(new a).connect(s,"B");return{input:c,output:t}},h=function(){var t=c(),e=c(),i=new a,n=(new a).connect(i,"E");t.output.connect(n,"T"),e.output.connect(n,"P");var r=(new a).connect(t.input,"P").connect(e.input,"T"),o=(new a).connect(r,"B");return{input:o,output:i}},u=function(){for(var t=h().input,e=t.any(),i="";e;)i+=e.value,e=e.node.any();return i},p=function(t){for(var e=h().input,i=0,n=t.charAt(i);i<t.length;){var r=e.test(n);if(!r)return!1;e=r.node,n=t.charAt(++i)}return!0},l=function(t,e){var i=0,n=-1,r=0,o=-1;for(var s in t)t[s]>i&&(i=t[s],n=s),e[s]>r&&(r=e[s],o=s);return n!=o},f=0,d=1,v={B:0,
P:1,T:2,X:3,S:4,E:5},g=Date.now();i>f&&d>n;){var y=0;d=0;for(var m=u(),w=m.charAt(y),b=m.charAt(y+1);y<m.length-1;){for(var T=[],I=[],D=0;6>D;D++)T[D]=0,I[D]=0;T[v[w]]=1,I[v[b]]=1;var _=this.network.activate(T);l(_,I)&&this.network.propagate(r,I),w=m.charAt(++y),b=m.charAt(y+1),d+=s(I,_)}d/=m.length,f++,f%o==0&&console.log("iterations:",f," time:",Date.now()-g," error:",d)}return{iterations:f,error:d,time:Date.now()-g,test:p,generate:u}},timingTask:function(t){function i(t,e){for(var i=t+e,n=0,r=[],o=0;i>o;o++)r.push({input:[0,0],output:[0]});for(;i-20>n;){var s=Math.round(20*Math.random());r[n].input[0]=1;for(var a=n;n+s>=a;a++)r[a].input[1]=s/20,r[a].output[0]=.5;n+=s,s=Math.round(20*Math.random());for(var c=n+1;n+s>=c&&i>c;c++)r[c].input[1]=r[n].input[1];n+=s}for(var h=[],u=[],p=0;i>p;p++)(t>p?h:u).push(r[p]);return{train:h,test:u}}if(2!=this.network.inputs()||1!=this.network.outputs())throw new Error("Invalid Network: must have 2 inputs and one output");if("undefined"==typeof t)var t={};var n=t.iterations||200,r=t.error||.005,o=t.rate||[.03,.02],s=t.log===!1?!1:t.log||10,a=t.cost||this.cost||e.cost.MSE,c=t.trainSamples||7e3,h=t.trainSamples||1e3,u=i(c,h),p=this.train(u.train,{rate:o,log:s,iterations:n,error:r,cost:a});return{train:p,test:this.test(u.test)}}},e.cost={CROSS_ENTROPY:function(t,e){var i=0;for(var n in e)i-=t[n]*Math.log(e[n]+1e-15)+(1-t[n])*Math.log(1+1e-15-e[n]);return i},MSE:function(t,e){var i=0;for(var n in e)i+=Math.pow(t[n]-e[n],2);return i/e.length},BINARY:function(t,e){var i=0;for(var n in e)i+=Math.round(2*t[n])!=Math.round(2*e[n]);return i}}}).call(e,n(1)(t))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Creature=void 0;var o=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(c){r=!0,o=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(8),c=n(a),h=i(11),u=n(h),p=function(){function t(e,i){r(this,t),this.p=new c["default"](e,i),this.v=(new c["default"]).random(),this.network=new u["default"].Architect.Perceptron(2,25,2)}return s(t,[{key:"tick",value:function(t,e){var i=this.activate();this.move(i),this.wrap(t)}},{key:"eat",value:function(t){var e=this,i=t.filter(function(t){return e.p.dist(t)>10});return i}},{key:"activate",value:function(){var t=[];t.push(this.p.y),t.push(this.p.x);var e=this.network.activate(t),i=.3,n=[Math.random(),Math.random()];return this.network.propagate(i,n),e}},{key:"move",value:function(t){var e=o(t,2),i=e[0],n=e[1],r=new c["default"](i-.5,n-.5).normalize();r.div(5),this.v.add(r),this.v.normalize(),this.p.add(this.v)}},{key:"wrap",value:function(t){var e=t.w,i=t.h,n=function(t,e){return(t+e)%e};this.p.set(n(this.p.x,e),n(this.p.y,i))}},{key:"angle",get:function(){return this.v.angle()}}]),t}();e.Creature=p,e["default"]=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,i){var n=t.canvas,r=n.height,o=n.width,s=t.createLinearGradient(0,0,o,r);s.addColorStop(0,"#baf"),s.addColorStop(.5,"#bbe"),s.addColorStop(1,"#abf"),t.fillStyle=s,t.fillRect(0,0,o,r);var a=Math.PI/1.6;t.fillStyle="#afa",t.strokeStyle="#daa",i.forEach(function(e){t.beginPath(),t.arc(e.x,e.y,2+.5*Math.random(),0,2*Math.PI),t.stroke(),t.fill()}),t.fillStyle="#faa",t.strokeStyle="#3a3",e.forEach(function(e){t.beginPath(),t.arc(e.p.x,e.p.y,10+.5*Math.random(),e.angle-a,e.angle+a),t.stroke(),t.fill()})};e.render=i},function(t,e){"use strict";function i(t,e){this.x=t,this.y=e}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype={set:function(t,e){return this.x=t,this.y=e,this},add:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t){return this.x-=t.x,this.y-=t.y,this},mul:function(t){return this.x*=t,this.y*=t,this},div:function(t){return!t&&console.log("Division by zero!"),this.x/=t,this.y/=t,this},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){var t=this.mag();return t&&this.div(t),this},angle:function(){return Math.atan2(this.y,this.x)},setMag:function(t){var e=this.angle();return this.x=t*Math.cos(e),this.y=t*Math.sin(e),this},setAngle:function(t){var e=this.mag();return this.x=e*Math.cos(t),this.y=e*Math.sin(t),this},rotate:function(t){return this.setAngle(this.angle()+t),this},limit:function(t){var e=this.mag();return e>t&&this.setMag(t),this},angleBetween:function(t){return this.angle()-t.angle()},dot:function(t){return this.x*t.x+this.y*t.y},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},dist:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},copy:function(){return new i(this.x,this.y)},random:function(){return this.set(1,1),this.setAngle(Math.random()*Math.PI*2),this}},e["default"]=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){return"world"}},function(t,e,i){(function(t){var e=i(2),n=i(3),r=i(5),o={Perceptron:function(){var t=Array.prototype.slice.call(arguments);if(t.length<3)throw new Error("not enough layers (minimum 3) !!");var i=t.shift(),n=t.pop(),o=t,s=new e(i),a=[],c=new e(n),h=s;for(level in o){var u=o[level],p=new e(u);a.push(p),h.project(p),h=p}h.project(c),this.set({input:s,hidden:a,output:c}),this.trainer=new r(this)},LSTM:function(){var t=Array.prototype.slice.call(arguments);if(t.length<3)throw new Error("not enough layers (minimum 3) !!");var i=t.pop(),n={peepholes:e.connectionType.ALL_TO_ALL,hiddenToHidden:!1,outputToHidden:!1,outputToGates:!1,inputToOutput:!0};if("number"!=typeof i){var o=t.pop();i.hasOwnProperty("peepholes")&&(n.peepholes=i.peepholes),i.hasOwnProperty("hiddenToHidden")&&(n.hiddenToHidden=i.hiddenToHidden),i.hasOwnProperty("outputToHidden")&&(n.outputToHidden=i.outputToHidden),i.hasOwnProperty("outputToGates")&&(n.outputToGates=i.outputToGates),i.hasOwnProperty("inputToOutput")&&(n.inputToOutput=i.inputToOutput)}else var o=i;var s=t.shift(),a=t,c=new e(s),h=[],u=new e(o),p=null;for(var l in a){var f=a[l],d=new e(f).set({bias:1}),v=new e(f).set({bias:1}),g=new e(f),y=new e(f).set({bias:1});h.push(d),h.push(v),h.push(g),h.push(y);var m=c.project(g);if(c.project(d),c.project(v),c.project(y),null!=p){var w=p.project(g);p.project(d),p.project(v),p.project(y)}var b=g.project(u),T=g.project(g);n.hiddenToHidden&&g.project(g,e.connectionType.ALL_TO_ELSE),n.outputToHidden&&u.project(g),n.outputToGates&&(u.project(d),u.project(y),u.project(v)),g.project(d,n.peepholes),g.project(v,n.peepholes),g.project(y,n.peepholes),d.gate(m,e.gateType.INPUT),v.gate(T,e.gateType.ONE_TO_ONE),y.gate(b,e.gateType.OUTPUT),null!=p&&d.gate(w,e.gateType.INPUT),p=g}n.inputToOutput&&c.project(u),this.set({input:c,hidden:h,output:u}),this.trainer=new r(this)},Liquid:function(t,i,n,o,s){for(var a=new e(t),c=new e(i),h=new e(n),u=c.neurons(),p=[],l=0;o>l;l++){var f=Math.random()*u.length|0,d=Math.random()*u.length|0,v=u[f].project(u[d]);p.push(v)}for(var g=0;s>g;g++){var y=Math.random()*u.length|0,v=Math.random()*p.length|0;u[y].gate(p[v])}a.project(c),c.project(h),this.set({input:a,hidden:[c],output:h}),this.trainer=new r(this)},Hopfield:function(t){var i=new e(t),n=new e(t);i.project(n,e.connectionType.ALL_TO_ALL),this.set({input:i,hidden:[],output:n});var s=new r(this),a=o.Hopfield.prototype;a.learn=a.learn||function(t){var e=[];for(var i in t)e.push({input:t[i],output:t[i]});return s.train(e,{iterations:5e5,error:5e-5,rate:1})},a.feed=a.feed||function(t){var e=this.activate(t),t=[];for(var i in e)t[i]=e[i]>.5?1:0;return t}}};for(var s in o)o[s].prototype=new n,o[s].prototype.constructor=o[s];t&&(t.exports=o)}).call(e,i(1)(t))},function(t,e,i){var n,r,o={Neuron:i(4),Layer:i(2),Network:i(3),Trainer:i(5),Architect:i(10)};n=[],r=function(){return o}.apply(e,n),!(void 0!==r&&(t.exports=r)),"undefined"!=typeof t&&t.exports&&(t.exports=o),"object"==typeof window&&(!function(){var t=window.synaptic;o.ninja=function(){return window.synaptic=t,o}}(),window.synaptic=o)}]);